{"version":3,"names":["StarRating","BaseComponent","constructor","node","options","super","$","hasAttribute","this","_node","_options","step","getAttribute","min","max","stars","getProperty","displayOnly","_stepLength","replace","length","id","_label","findOne","setAttribute","generateId","_labelId","_render","_refresh","_events","tooltip","_tooltipEvents","_refreshDisabled","disable","disabled","dispose","removeAttribute","_tooltip","remove","_outerContainer","removeEvent","removeClass","classes","hide","_container","_filledContainer","enable","getValue","value","parseFloat","setValue","_clampValue","percent","_getPercent","setStyle","width","_updateValue","triggerEvent","defaults","size","ratingText","rating","lang","star","hover","animate","container","filled","outline","icons","proto","prototype","Math","round","ceil","toFixed","_clamp","addEvent","_","focus","dragEvent","mouseDragFactory","e","button","is","transition","pos","getPosition","percentX","x","offset","_getValue","setDataset","uiDragging","_triggerTooltip","removeDataset","rect","code","_hoverEvents","_inverseLerp","_lerp","debounce","getDataset","pageX","updateAria","passive","addClass","tabindex","create","class","attributes","role","i","push","outlineContainer","html","join","append","before","Tooltip","init","appendTo","trigger","placement","tooltipTriggers","_debounce","type","show","Object","keys","_stop","isSame","target","updateTooltip","bind","uiTitle","refresh","update","initComponent"],"sources":["../src/js/star-rating.js","../src/js/index.js","../src/js/prototype/helpers.js","../src/js/prototype/events.js","../src/js/prototype/render.js"],"sourcesContent":["import $ from '@fr0st/query';\nimport { BaseComponent, generateId } from '@fr0st/ui';\n\n/**\n * StarRating Class\n * @class\n */\nexport default class StarRating extends BaseComponent {\n    /**\n     * New StarRating constructor.\n     * @param {HTMLElement} node The input node.\n     * @param {object} [options] The options to create the StarRating with.\n     */\n    constructor(node, options) {\n        super(node, options);\n\n        if ($.hasAttribute(this._node, 'step')) {\n            this._options.step = $.getAttribute(this._node, 'step');\n        }\n\n        if ($.hasAttribute(this._node, 'min')) {\n            this._options.min = $.getAttribute(this._node, 'min');\n        }\n\n        if ($.hasAttribute(this._node, 'max')) {\n            this._options.max = $.getAttribute(this._node, 'max');\n        }\n\n        if (this._options.max === null) {\n            this._options.max = this._options.stars;\n        }\n\n        if ($.getProperty(this._node, 'readOnly')) {\n            this._options.displayOnly = true;\n        }\n\n        if (this._options.step) {\n            this._stepLength = `${this._options.step}`.replace('\\d*\\.?/', '').length;\n        }\n\n        const id = $.getAttribute(this._node, 'id');\n        this._label = $.findOne(`label[for=\"${id}\"]`);\n\n        if (this._label && !$.getAttribute(this._label, 'id')) {\n            $.setAttribute(this._label, { id: generateId('starrating-label') });\n            this._labelId = true;\n        }\n\n        this._render();\n        this._refresh();\n\n        if (!this._options.displayOnly) {\n            this._events();\n        }\n\n        if (this._options.tooltip) {\n            this._tooltipEvents();\n        }\n\n        this._refreshDisabled();\n    }\n\n    /**\n     * Disable the StarRating.\n     */\n    disable() {\n        $.setAttribute(this._node, { disabled: true });\n        this._refreshDisabled();\n    }\n\n    /**\n     * Dispose the StarRating.\n     */\n    dispose() {\n        if (this._labelId) {\n            $.removeAttribute(this._label, 'id');\n        }\n\n        if (this._tooltip) {\n            this._tooltip.dispose();\n            this._tooltip = null;\n        }\n\n        $.remove(this._outerContainer);\n        $.removeAttribute(this._node, 'tabindex');\n        $.removeEvent(this._node, 'focus.ui.starrating');\n        $.removeClass(this._node, this.constructor.classes.hide);\n\n        this._label = null;\n        this._outerContainer = null;\n        this._container = null;\n        this._filledContainer = null;\n\n        super.dispose();\n    }\n\n    /**\n     * Enable the StarRating.\n     */\n    enable() {\n        $.removeAttribute(this._node, 'disabled');\n        this._refreshDisabled();\n    }\n\n    /**\n     * Get the current value.\n     * @return {number} The current value.\n     */\n    getValue() {\n        const value = $.getValue(this._node);\n\n        return value !== '' ?\n            parseFloat(value) :\n            null;\n    }\n\n    /**\n     * Set the current value.\n     * @param {number} value The value to set.\n     */\n    setValue(value) {\n        value = parseFloat(value);\n        value = this._clampValue(value);\n\n        if (value === this.getValue()) {\n            return;\n        }\n\n        const percent = this._getPercent(value);\n\n        $.setStyle(this._filledContainer, { width: `${percent}%` });\n\n        this._updateValue(value);\n\n        $.setValue(this._node, value);\n        $.triggerEvent(this._node, 'change.ui.starrating');\n    }\n}\n","import { initComponent } from '@fr0st/ui';\nimport StarRating from './star-rating.js';\nimport { _events, _hoverEvents, _tooltipEvents } from './prototype/events.js';\nimport { _clampValue, _getPercent, _getValue, _refresh, _refreshDisabled, _updateValue } from './prototype/helpers.js';\nimport { _render } from './prototype/render.js';\n\n// StarRating default options\nStarRating.defaults = {\n    size: 'md',\n    min: 0,\n    max: null,\n    step: 1,\n    stars: 5,\n    ratingText(rating) {\n        return rating === 1 ?\n            `${rating} ${this.constructor.lang.star}` :\n            `${rating} ${this.constructor.lang.stars}`;\n    },\n    tooltip: true,\n    hover: true,\n    animate: true,\n    displayOnly: false,\n};\n\n// StarRating classes\nStarRating.classes = {\n    animate: 'starrating-animate',\n    container: 'starrating',\n    disabled: 'starrating-disabled',\n    filled: 'starrating-filled',\n    hide: 'visually-hidden',\n    outline: 'starrating-outline',\n};\n\n// StarRating icons\nStarRating.icons = {\n    filled: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" focusable=\"false\" width=\"1em\" height=\"1em\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 24 24\"><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2L9.19 8.62L2 9.24l5.45 4.73L5.82 21L12 17.27z\" fill=\"currentColor\"/></svg>',\n    outline: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" focusable=\"false\" width=\"1em\" height=\"1em\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 24 24\"><path d=\"M12 15.39l-3.76 2.27l.99-4.28l-3.32-2.88l4.38-.37L12 6.09l1.71 4.04l4.38.37l-3.32 2.88l.99 4.28M22 9.24l-7.19-.61L12 2L9.19 8.63L2 9.24l5.45 4.73L5.82 21L12 17.27L18.18 21l-1.64-7.03L22 9.24z\" fill=\"currentColor\"/></svg>',\n};\n\n// StarRating lang\nStarRating.lang = {\n    star: 'star',\n    stars: 'stars',\n};\n\n// StarRating prototype\nconst proto = StarRating.prototype;\n\nproto._clampValue = _clampValue;\nproto._events = _events;\nproto._getPercent = _getPercent;\nproto._getValue = _getValue;\nproto._hoverEvents = _hoverEvents;\nproto._refresh = _refresh;\nproto._refreshDisabled = _refreshDisabled;\nproto._render = _render;\nproto._tooltipEvents = _tooltipEvents;\nproto._updateValue = _updateValue;\n\n// StarRating init\ninitComponent('starrating', StarRating);\n\nexport default StarRating;\n","import $ from '@fr0st/query';\n\n/**\n * Clamp a value to a step-size, and between a min and max value.\n * @param {number} value The value to clamp.\n * @return {number} The clamped value.\n */\nexport function _clampValue(value) {\n    if (this._options.step) {\n        value /= this._options.step;\n        value = value < 1 ? Math.round(value) : Math.ceil(value);\n        value *= this._options.step;\n        value = value.toFixed(this._stepLength);\n    }\n\n    return $._clamp(value, this._options.min, this._options.max);\n};\n\n/**\n * Get the percent from a value.\n * @param {number} value The value.\n * @return {number} The percent.\n */\nexport function _getPercent(value) {\n    return $._inverseLerp(0, this._options.stars, value) * 100;\n};\n\n/**\n * Get the value from an X percent.\n * @param {number} percentX The X percent.\n * @return {number} The value.\n */\nexport function _getValue(percentX) {\n    const value = $._lerp(0, this._options.stars, percentX / 100);\n\n    return this._clampValue(value);\n};\n\n/**\n * Refresh the star rating.\n */\nexport function _refresh() {\n    const value = this.getValue();\n    const percent = this._getPercent(value);\n\n    $.setStyle(this._filledContainer, { width: `${percent}%` });\n\n    this._updateValue(value);\n};\n\n/**\n * Refresh the disabled styling.\n */\nexport function _refreshDisabled() {\n    const disabled = $.is(this._node, ':disabled');\n\n    if (disabled) {\n        $.addClass(this._container, this.constructor.classes.disabled);\n    } else {\n        $.removeClass(this._container, this.constructor.classes.disabled);\n    }\n\n    $.setAttribute(this._container, {\n        'aria-disabled': disabled,\n        'tabindex': disabled ? -1 : 0,\n    });\n};\n\n/**\n * Update the value.\n * @param {number} value The value.\n * @param {object} [options] The options for updating the value.\n */\nexport function _updateValue(value, { updateAria = true, updateTooltip = true } = {}) {\n    if (value === null) {\n        value = this._options.min;\n    }\n\n    const ratingText = this._options.ratingText.bind(this)(value);\n\n    if (updateAria) {\n        $.setAttribute(this._container, {\n            'aria-valuenow': value,\n            'aria-valuetext': ratingText,\n        });\n    }\n\n    if (updateTooltip && this._tooltip) {\n        $.setDataset(this._container, { uiTitle: ratingText });\n\n        this._tooltip.refresh();\n        this._tooltip.update();\n    }\n};\n","import $ from '@fr0st/query';\nimport { getPosition } from '@fr0st/ui';\n\n/**\n * Attach events for the StarRating.\n */\nexport function _events() {\n    $.addEvent(this._node, 'focus.ui.starrating', (_) => {\n        $.focus(this._container);\n    });\n\n    const downEvent = (e) => {\n        if (\n            e.button ||\n            $.is(this._node, ':disabled')\n        ) {\n            return false;\n        }\n\n        $.setStyle(this._filledContainer, { transition: 'none' });\n\n        const pos = getPosition(e);\n        const percentX = $.percentX(this._container, pos.x, { offset: true });\n        const value = this._getValue(percentX);\n\n        this.setValue(value);\n\n        $.setDataset(this._container, { uiDragging: true });\n\n        if (this._options.tooltip) {\n            this._triggerTooltip('drag');\n        }\n    };\n\n    const moveEvent = (e) => {\n        const pos = getPosition(e);\n        const percentX = $.percentX(this._container, pos.x, { offset: true });\n        const value = this._getValue(percentX);\n\n        this.setValue(value);\n    };\n\n    const upEvent = (e) => {\n        $.removeDataset(this._container, 'uiDragging');\n\n        if (this._options.tooltip) {\n            this._triggerTooltip('drag', false);\n        }\n\n        const pos = getPosition(e);\n        const percentX = $.percentX(this._container, pos.x, { offset: true });\n        const value = this._getValue(percentX);\n\n        if (value === this.getValue()) {\n            this._updateValue(value);\n        } else {\n            this.setValue(value);\n        }\n\n        // force redraw\n        $.rect(this._filledContainer);\n        $.setStyle(this._filledContainer, { transition: '' });\n    };\n\n    const dragEvent = $.mouseDragFactory(downEvent, moveEvent, upEvent);\n\n    $.addEvent(this._container, 'mousedown.ui.starrating touchstart.ui.starrating', dragEvent);\n\n    $.addEvent(this._container, 'keydown.ui.starrating', (e) => {\n        let value = this.getValue();\n\n        if (value === null) {\n            value = this._options.min;\n        }\n\n        switch (e.code) {\n            case 'ArrowLeft':\n            case 'ArrowDown':\n                value -= this._options.step;\n                break;\n            case 'ArrowRight':\n            case 'ArrowUp':\n                value += this._options.step;\n                break;\n            case 'End':\n                value = this._options.max;\n                break;\n            case 'Home':\n                value = this._options.min;\n                break;\n            case 'PageDown':\n                value--;\n                break;\n            case 'PageUp':\n                value++;\n                break;\n            default:\n                return;\n        }\n\n        this.setValue(value);\n    });\n\n    if (this._options.hover) {\n        this._hoverEvents();\n    }\n};\n\n/**\n * Attach hover events for the StarRating.\n */\nexport function _hoverEvents() {\n    $.addEvent(this._container, 'mousemove.ui.starrating', $.debounce((e) => {\n        if (\n            $.is(this._node, ':disabled') ||\n            $.getDataset(this._container, 'uiDragging')\n        ) {\n            return;\n        }\n\n        const percentX = $.percentX(this._container, e.pageX, { offset: true });\n        const value = this._getValue(percentX);\n\n        const percent = this._getPercent(value);\n\n        $.setStyle(this._filledContainer, { transition: 'none' });\n        $.setStyle(this._filledContainer, { width: `${percent}%` });\n\n        // force redraw\n        $.rect(this._filledContainer);\n        $.setStyle(this._filledContainer, { transition: '' });\n\n        this._updateValue(value, { updateAria: false });\n    }), { passive: true });\n\n    $.addEvent(this._container, 'mouseleave.ui.starrating', (_) => {\n        if (\n            $.is(this._node, ':disabled') ||\n            $.getDataset(this._container, 'uiDragging')\n        ) {\n            return;\n        }\n\n        this._refresh();\n    });\n};\n\n/**\n * Attach events for the StarRating tooltip.\n */\nexport function _tooltipEvents() {\n    const tooltipTriggers = {};\n\n    this._triggerTooltip = $._debounce((type, show = true) => {\n        if (show) {\n            if (!Object.keys(tooltipTriggers).length) {\n                this._tooltip._stop();\n                this._tooltip.show();\n            }\n\n            tooltipTriggers[type] = true;\n        } else {\n            delete tooltipTriggers[type];\n\n            if (!Object.keys(tooltipTriggers).length) {\n                this._tooltip._stop();\n                this._tooltip.hide();\n            }\n        }\n    });\n\n    $.addEvent(this._container, 'mouseenter.ui.starrating', (e) => {\n        if (!$.isSame(e.target, this._container)) {\n            return;\n        }\n\n        this._triggerTooltip('hover');\n    });\n\n    $.addEvent(this._container, 'mouseleave.ui.starrating', (e) => {\n        if (!$.isSame(e.target, this._container)) {\n            return;\n        }\n\n        this._triggerTooltip('hover', false);\n    });\n};\n","import $ from '@fr0st/query';\nimport { Tooltip } from '@fr0st/ui';\n\n/**\n * Render the star rating.\n */\nexport function _render() {\n    this._outerContainer = $.create('div');\n\n    if (this._options.animate) {\n        $.addClass(this._outerContainer, this.constructor.classes.animate);\n    }\n\n    this._container = $.create('div', {\n        class: [this.constructor.classes.container, `starrating-${this._options.size}`],\n        attributes: {\n            'role': 'slider',\n            'aria-valuemin': this._options.min,\n            'aria-valuemax': this._options.max,\n            'aria-valuenow': '',\n            'aria-valuetext': '',\n            'aria-required': $.getProperty(this._node, 'required'),\n            'aria-labelledby': $.getAttribute(this._label, 'id'),\n        },\n    });\n\n    const outline = [];\n    const filled = [];\n    for (let i = 0; i < this._options.stars; i++) {\n        outline.push(this.constructor.icons.outline);\n        filled.push(this.constructor.icons.filled);\n    }\n\n    const outlineContainer = $.create('div', {\n        class: this.constructor.classes.outline,\n        html: outline.join(''),\n    });\n\n    this._filledContainer = $.create('div', {\n        class: this.constructor.classes.filled,\n        html: filled.join(''),\n    });\n\n    $.append(this._container, outlineContainer);\n    $.append(this._container, this._filledContainer);\n    $.append(this._outerContainer, this._container);\n\n    // hide the input node\n    $.addClass(this._node, this.constructor.classes.hide);\n    $.setAttribute(this._node, { tabindex: -1 });\n\n    $.before(this._node, this._outerContainer);\n\n    if (this._options.tooltip) {\n        this._tooltip = Tooltip.init(this._container, {\n            appendTo: 'body',\n            trigger: '',\n            placement: 'top',\n        });\n    }\n};\n"],"mappings":"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"}